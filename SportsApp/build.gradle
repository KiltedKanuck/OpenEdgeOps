/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.3.3/samples
 */
plugins {
    id("base")
}

task packageDeploy(type: Tar) {
    archiveFileName = "sportsApp.tar.gz"
    destinationDirectory = project.distsDirectory
    compression = Compression.GZIP
    from ("deploy"){
        include "scripts/**"
        include "*.sh"
        include "*.yml"
        include "Dockerfile"
        exclude "license"
        into "deploy"
    }
    from ("webui"){
        into "webui"
    }
    from ("Sports/build/distributions/Sports.oear"){
        into "deploy/ablapps"
    }
}
packageDeploy.dependsOn ":Sports:build"
build.dependsOn packageDeploy